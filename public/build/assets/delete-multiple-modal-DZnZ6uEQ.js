let l=[],s=[],d=1;document.querySelectorAll(".student-checkbox").forEach(t=>{t.addEventListener("change",function(){const n=this.value,e=this.getAttribute("data-name");this.checked?(l.push(n),s.push(e)):(l=l.filter(c=>c!==n),s=s.filter(c=>c!==e)),u()})});const i=document.getElementById("select-all-checkbox");i&&i.addEventListener("change",function(){const t=this.checked;document.querySelectorAll(".student-checkbox").forEach(n=>{n.checked=t;const e=n.value,c=n.getAttribute("data-name");t?l.includes(e)||(l.push(e),s.push(c)):(l=[],s=[])})});function u(){const t=document.querySelectorAll(".student-checkbox").length,n=document.querySelectorAll(".student-checkbox:checked").length,e=document.getElementById("select-all-checkbox");e&&(e.checked=t===n,e.indeterminate=n>0&&n<t)}function a(){const t=(d-1)*5,n=Math.min(t+5,s.length),e=s.slice(t,n),c=document.getElementById("selected-records-list");c&&(c.innerHTML=e.map(o=>`<p>${o}</p>`).join("")),m()}function m(){const t=document.getElementById("pagination-controls");if(!t)return;t.innerHTML="";const n=Math.ceil(s.length/5);for(let e=1;e<=n;e++){const c=document.createElement("button");c.textContent=e,c.classList.add("btn","btn-outline-secondary","mx-1"),c.addEventListener("click",function(){d=e,a()}),e===d&&c.classList.add("btn-primary"),t.appendChild(c)}}const r=document.getElementById("delete-multiple-btn");r&&r.addEventListener("click",function(){if(l.length===0)Swal.fire({title:"No Record Selected",text:"Please select at least one record before deleting.",icon:"warning",confirmButtonColor:"#3085d6"});else{const t=document.getElementById("delete-multiple-record-ids");t&&(t.value=JSON.stringify(l)),a();const n=document.getElementById("delete-multiple-student-modal");n&&new bootstrap.Modal(n).show()}});function h(t,n){const e=document.getElementById(t);e&&e.addEventListener("click",function(){let c=document.getElementById(n);if(!c)return;let o=this.querySelector("i");c.type==="password"?(c.type="text",o&&(o.classList.remove("bx-hide"),o.classList.add("bx-show"))):(c.type="password",o&&(o.classList.remove("bx-show"),o.classList.add("bx-hide")))})}h("toggle-multiple-student-password","confirm-multiple-student-password");
